<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		li{
			list-style: none;
		}
		#box{
			width:1000px ;
			height: 455px;
			margin: 50px auto 0;
			border: 1px solid #c36;
		}
		#box .title{
			height: 50px;
			line-height:50px ;
			text-align: center;
			color: #fff;
			
		}
		#box .title li{
			float: left;
			width: 249.25px;
			background: #c36;
			border-right:1px solid #900 ;
		}
		#goods ul{
			height: 100px;
			border-bottom: 1px solid #900;
		}
		#goods ul li{
			width: 249px;
			float: left;
			height: 100px;
			border-right: 1px solid #900;
			position: relative;
			
		}
		#goods ul li.price{
			border: none;
		}
		
		#goods ul li.danjia,#goods ul li.price{
			line-height: 100px;
			text-align: center;
		}
		#goods ul li.num p{
			width: 130px;
			height: 30px;
			position: absolute;
			left: 50%;
			top: 50%;
			margin-left: -65px;
			margin-top: -15px;

		}
		#goods ul li.num p span{
			display: inline-block;
		}
		#goods ul li.num p span.left,#goods ul li.num p span.right{
			width: 30px;
			height: 30px;
			line-height: 30px;
			text-align: center;
			background: #ddd;
			font-weight: bold;
			cursor: pointer;
		}
		#goods ul li.num p span.txt{
			width: 70px;
			border-top: 1px solid #ddd;
			border-bottom: 1px solid #ddd;
			height: 28px;
			text-align: center;
			line-height: 28px;
			font-size: 12px;
			color: #c36;
			position: relative;
			top: -1px;
		}
		#total{
			width: 1000px;
			background: #c36;
			margin: 5px auto;
			height: 50px;
		}
		#total p{
			width: 25%;
			float: right;
			height: 50px;
			text-align: center;
			line-height: 50px;
			color: #fff;
			font-size: 14px;
			
		}
		#total p #totalnum,#total p #totalPrice{
			color: #ff9;
			font-size: 18px;
			font-weight: bold;
		}
	</style>
	<body>
		<div id="box">
			<ul class="title">
				<li>商品</li>
				<li>单价</li>
				<li>数量</li>
				<li style="border: none;">小计</li>
			</ul>
			<div id="goods">
				<ul>
					<li class="img" style="background: url(img2/shop1.jpg) no-repeat center center ;background-size:45% ; "></li>
					<li class="danjia">8</li>
					<li class="num">
						<p>
							<span class="left">-</span><span class="txt">0</span><span class="right">+</span>
						</p>
					</li>
					<li class="price">0</li>
				</ul>
				<ul>
					<li class="img "style="background: url(img2/shop2.jpg) no-repeat center center ;background-size:45% ;" ></li>
					<li class="danjia">10</li>
					<li class="num">
						<p>
							<span class="left">-</span><span class="txt">0</span><span class="right">+</span>
						</p>
					</li>
					<li class="price">0</li>
				</ul>
				<ul>
					<li class="img" style="background: url(img2/shop3.jpg) no-repeat center center ;background-size:45% ;"></li>
					<li class="danjia">12.5</li>
					<li class="num">
						<p>
							<span class="left">-</span><span class="txt">0</span><span class="right">+</span>
						</p>
					</li>
					<li class="price">0</li>
				</ul>
				<ul style="border: none;">
					<li class="img" style="background: url(img2/shop4.jpg) no-repeat center center ;background-size:45% ;"></li>
					<li class="danjia">23</li>
					<li class="num">
						<p>
							<span class="left">-</span><span class="txt">0</span><span class="right">+</span>
						</p>
					</li>
					<li class="price">0</li>
				</ul>
			</div>
		</div>
		<div id="total">
			<p>合计费用<span id="totalPrice">0</span>元</p>
			<p>已选中的商品<span id="totalnum">0</span>个</p>
		</div>
		
		<script type="text/javascript">
			var goodsAdd = document.querySelectorAll('#goods .num .right');
			var goodsDis = document.querySelectorAll('#goods .num .left');
			var goodsNum = document.querySelectorAll('#goods .num .txt');
			var price = document.querySelectorAll('#goods .price');
			var danjia = document.querySelectorAll('#goods .danjia');
			var len = document.querySelectorAll('#goods ul');
			var oTitalPrice = document.getElementById('totalPrice');
			var oTitalNum = document.getElementById('totalnum');
	        var arr = [];
			for(var i=0;i<len.length;i++){
				arr[i]=0;
				goodsAdd[i].i=i;
				goodsAdd[i].onclick=function(){
					arr[this.i] = goodsNum[this.i].innerHTML-0;
					arr[this.i]++;
					goodsNum[this.i].innerHTML=arr[this.i];
					price[this.i].innerHTML = (danjia[this.i].innerHTML-0)*arr[this.i];
					count();
				}	
			}
			for(var i=0;i<len.length;i++){
				arr[i]=0;
				goodsDis[i].i=i;		
	//			console.log(brr[i])
				goodsDis[i].onclick=function(){
				    arr[this.i] = goodsNum[this.i].innerHTML-0;
	//			    console.log(brr[this.i])
	                if(arr[this.i]!=0){
						arr[this.i]--;
						goodsNum[this.i].innerHTML = arr[this.i];
						price[this.i].innerHTML = (danjia[this.i].innerHTML-0)*arr[this.i];
						count();
	                }
				}
				function count(){
					var allNum = 0,allPrice=0;
						for(var j=0;j<len.length;j++){
					     	allNum +=arr[j];
					     	allPrice+=price[j].innerHTML-0;
						}
		                oTitalNum.innerHTML=allNum;
		                oTitalPrice.innerHTML=allPrice; 
				}
			}
	</script>
	</body>
	
</html>

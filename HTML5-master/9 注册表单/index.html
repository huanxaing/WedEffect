<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>注册</title>
		
		<style>
			*{
				margin: 0;
				padding: 0;
			}
			.box{
				width: 300px;
				/*height: 600px;*/
				position: relative;
				margin: 30px auto;
			}
			.box .box-top{
				height: 40px;
				width: 100%;
				background: #0098CC;
				color: #fff;
				font-weight: bold;	
				text-align: center;
				line-height: 40px;
				letter-spacing: 15px;
				font-size: 18px;
			}
			.box .box-content{
				background: #01CBFF;
				padding-left: 45px;
			}
			.box .box-content input{
				text-indent: 5px;
				color: #000;
				width: 200px;
				height: 30px;
				margin-top: 20px;
				position: relative;
			}
			.box .box-content .button{
				color: #000;
				width: 220px;
				height: 40px;
				margin: 20px -10px;
				background: #07B6E3;
				border: 0;
				color: #fff;
				font-size: 16px;
				letter-spacing: 10px;
				cursor: pointer;
			}	
			p{
				color: red;
				font-size: 12px;
				float: left;
				/*text-indent: 50px;*/
				position: relative;
			}
				
			img{			
				background-size: 30% 30%;	
				width: 20px;
				height: 20px;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="box-top">注册</div>
			<div class="box-content">
				<input type="text" placeholder="请输入账号"></input>								
				<span></span><p></p>
				<input type="password" placeholder="请输入密码" id='bb' onFocus="this.placeholder=''" onblur="this.placeholder='请输入密码'"></input>
                <span></span><p></p>
				<input type="password" placeholder="请确认密码" onFocus="this.placeholder=''" onblur="this.placeholder='请确认密码'"></input>
				<span></span><p></p>
				<input type="text" placeholder="请输入手机号" onFocus="this.placeholder=''" onblur="this.placeholder='请输入手机号'"></input>
				<span></span><p></p>
				<input type="text" placeholder="请输入E-mail" onFocus="this.placeholder=''" onblur="this.placeholder='请输入E-mail'"></input>
				<span></span><p></p>
				<input type="text" placeholder="请输入身份证" onFocus="this.placeholder=''" onblur="this.placeholder='请输入身份证'"></input>			
				<span></span><p></p>
				<input type="button" value="注册" class="button"/>
			</div>
		</div>
		
		<script>			
			var input = document.querySelectorAll('.box .box-content input');
            var p = document.querySelectorAll('p');	
            var span = document.querySelectorAll('span');
               var ipt=new Array();
                ipt[0] = /^[a-z]\w{4,9}$/i;          
                ipt[1] = /^\w{6,10}$/;
                ipt[3] = /^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$/;
                ipt[4] = /^\w+@[a-z0-9]+\.[a-z]+$/i;
                ipt[5] = /^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;
                var warnning=['请输入字母开头的5-10位字母、数字或下划线','请输入6-10位字母、数字或下划线','两次密码不一致','请输入正确手机号','邮箱格式错误','身份证输入有误'];
                var correct = '输入正确';
                var flag=[0,0,0,0,0,0];
             
//              console.log(flag.length)
          for(var i =1 ;i<input.length;i++){
          	input[i].i=i;
          	input[i].onfocus=function(){
          		j = this.i-1;
                for(var index=0;index<=j;index++){
                    p[index].innerHTML='';
                    span[index].innerHTML='';
	          		if(index!=2){
		          		if(!ipt[index].test(input[index].value)){	          			    	          		
		          		    flag[index]=0;
		          		}
		          		else{
		          			flag[index]=1;
		          		}
		          	}else{
		          		if((input[index-1].value==input[index].value)&&(input[index].value!='')){
		          			flag[index]=1;    
		          		}else{
		          			flag[index]=0;
		          		}		          		
		          	}
	          	  p[index].innerHTML=flag[index]==1?'':warnning[index];
	          	  span[index].innerHTML=flag[index]==1?'<img src="000.jpg"/>':'';	
           	    } 
           	   flag[j]==0?input[j].focus():'';             
          	 }
         
           }
         
	          	  	
	          	  	
	          	  
           
		</script>
	</body>
</html>
